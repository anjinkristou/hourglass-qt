#ifndef VIEW_H
#define VIEW_H

#define VIEW_PATH "@hourglass_VIEW_PATH@"

#include <QObject>
#include <QString>
#include <QVariant>
#include <QMap>
#include <QList>

#include "teng.h"
#include "tengwriter.h"
#include "tengerror.h"
#include "activity.h"

class View : public QObject
{
  Q_OBJECT

  public:
    View(QString name, bool useLayout = true, QObject *parent = 0);
    void setTitle(QString title);
    void addVariable(const QString &name, QVariant value);
    QString render();

  private:
    QString name;
    QString title;
    QVariantMap variables;
    bool useLayout;

    void setupFragment(Teng::Fragment_t &fragment, QVariantMap &vars);
    void setupFragmentList(Teng::FragmentList_t &fragmentList, QVariantList &vars);
};

#endif
