#ifndef HOURGLASS_H
#define HOURGLASS_H

#define PUBLIC_PATH "@hourglass_PUBLIC_PATH@"
#define VIEW_PATH "@hourglass_VIEW_PATH@"

#include <QApplication>
#include <QSocketNotifier>
#include "launcher.h"
#include "thread.h"

class Hourglass : public QApplication
{
  Q_OBJECT

  public:
    Hourglass(int &argc, char **argv);
    int exec();

    static void intSignalHandler(int unused);

  public slots:
    void handleSigInt();
    void cleanUp();

  private:
    Launcher launcher;
    ServerThread *st;

    static int sigintFd[2];
    QSocketNotifier *snInt;
};

#endif
